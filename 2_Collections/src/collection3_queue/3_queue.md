# Queue

Интерфейс ```Queue<E>``` используется для представления структур данных, предназначенных для хранения элементов с
последовательной обработкой. Основная идея очереди заключается в управлении группой элементов с целью их обработки в
определенном порядке, чаще всего в порядке поступления (**FIFO**). Однако существуют реализации, где приоритет
определяется
не порядком вставки, а дополнительными критериями.

## Ключевые характеристики:

- **FIFO**: Большинство реализаций очереди работают по принципу "первым пришел — первым вышел".
- **Ограниченные и неограниченные очереди:** Некоторые очереди имеют ограничение на количество элементов, другие — нет.
- **Потокобезопасность:** Основные реализации интерфейса ```Queue<E>``` не потокобезопасны. Для многопоточных сценариев
  используются очереди с блокировкой из пакета ```java.util.concurrent```.

## Основные характеристики и методы

### Добавление элементов

```
Queue<String> queue = new LinkedList<>();
queue.add("Element 1");
```

- Добавляет элемент в очередь.
- Если очередь полна, метод выбрасывает исключение ```IllegalStateException```.
- Возвращает ```true```, если добавление прошло успешно.

--- 

```
boolean added = queue.offer("Element 2");
System.out.println("Added: " + added); // true
```

- Добавляет элемент в очередь.
- Если очередь полна, возвращает ```false```, не выбрасывая исключений.

---

### Методы удаления элементов

```
String removed = queue.remove();
System.out.println("Removed: " + removed);
```

- Удаляет и возвращает элемент из начала очереди.
- Если очередь пуста, выбрасывает ```NoSuchElementException```.

---

```
String polled = queue.poll();
System.out.println("Polled: " + polled);
```

- Удаляет и возвращает элемент из начала очереди.
- Если очередь пуста, возвращает ```null```.

### Методы просмотра элементов

```
String head = queue.element();
System.out.println("Head: " + head);
```

- Возвращает элемент из начала очереди, не удаляя его.
- Если очередь пуста, выбрасывает ```NoSuchElementException```.

---

```
String peeked = queue.peek();
System.out.println("Peeked: " + peeked);
```

- Возвращает элемент из начала очереди, не удаляя его.
- Если очередь пуста, возвращает ```null```.

## Реализации интерфейса Queue<E>

Интерфейс ```Queue<E>``` реализован несколькими популярными классами в Java, каждый из которых имеет свои особенности и
преимущества.

# LinkedList<E>

```LinkedList<E>``` — это двусвязный список, который также реализует интерфейс ```Queue<E>```. Он предоставляет
функциональность как стека, так и очереди.

## Ключевые особенности:

- **Неограниченная очередь:** Размер очереди ограничен только доступной памятью.
- **Поддержка операций** ```List```, ```Deque``` и ```Queue```.
- **Производительность**: Быстрое добавление и удаление с начала и конца.

```
Queue<String> linkedQueue = new LinkedList<>();
linkedQueue.offer("Element 1");
linkedQueue.offer("Element 2");
System.out.println(linkedQueue.poll()); // Element 1
```

# PriorityQueue<E>

```PriorityQueue<E>``` — это очередь с приоритетами, в которой элементы обрабатываются в порядке их приоритета.
Приоритет определяется либо естественным порядком элементов (например, для чисел и строк), либо настраиваемым
компаратором.

## Ключевые особенности:

- **Неограниченная очередь:** Размер ограничен доступной памятью.
- **Отсутствие порядка вставки:** Элементы не обязательно будут удалены в том порядке, в котором они были добавлены.
  Вместо этого они будут извлечены в порядке приоритета.
- **Использование кучевой структуры:** Внутри использует двоичную кучу для организации элементов.

```
Queue<Integer> priorityQueue = new PriorityQueue<>();
priorityQueue.offer(5);
priorityQueue.offer(1);
priorityQueue.offer(3);
System.out.println(priorityQueue.poll()); // 1
```

# ArrayDeque<E>

```ArrayDeque<E>``` — это реализация двусторонней очереди (двусторонний дек), которая также может использоваться как стек и очередь.

## Ключевые особенности:

- **Динамический массив:** Элементы хранятся в динамическом массиве.
- **Нет ограничений по размеру:** Размер ограничен доступной памятью.
- **Быстрая работа:** Быстрое добавление и удаление элементов с обоих концов.

```
Queue<String> arrayDeque = new ArrayDeque<>();
arrayDeque.offer("Element 1");
arrayDeque.offer("Element 2");
System.out.println(arrayDeque.poll()); // Element 1
```

## Потокозащищенные очереди из ```java.util.concurrent```

Для многопоточных сценариев Java предоставляет очереди с **блокировкой** в пакете ```java.util.concurrent```. Эти очереди обеспечивают потокобезопасность и позволяют использовать механизмы ожидания и пробуждения потоков.

# BlockingQueue<E>

```BlockingQueue<E>``` — это интерфейс, расширяющий ```Queue<E>``` и предоставляющий дополнительные методы для работы с многопоточностью. Основная особенность таких очередей заключается в возможности блокировки при добавлении или удалении элементов, если очередь полна или пуста.


## Методы BlockingQueue<E>

- ```put(E e)``` — добавляет элемент в очередь, ожидая освобождения места, если очередь полна.
- ```take()``` — удаляет и возвращает элемент из начала очереди, ожидая появления элемента, если очередь пуста.

```
BlockingQueue<String> blockingQueue = new ArrayBlockingQueue<>(2);
try {
    blockingQueue.put("Element 1");
    blockingQueue.put("Element 2");
    System.out.println(blockingQueue.take()); // Element 1
} catch (InterruptedException e) {
    Thread.currentThread().interrupt();
}
```

# ArrayBlockingQueue<E>

- ```Ограниченная очередь:``` Очередь фиксированного размера, хранящая элементы в массиве.
- ```Потокобезопасность:``` Все методы синхронизированы.

```
BlockingQueue<String> arrayBlockingQueue = new ArrayBlockingQueue<>(3);
arrayBlockingQueue.offer("Element 1");
```

# LinkedBlockingQueue<E>

- **Ограниченная или неограниченная очередь:** Может быть ограниченной или иметь максимальный размер, ограниченный только доступной памятью.
- **Потокобезопасность:** Синхронизирована для использования в многопоточной среде.

```
BlockingQueue<String> linkedBlockingQueue = new LinkedBlockingQueue<>();
linkedBlockingQueue.offer("Element 1");
linkedBlockingQueue.offer("Element 2");
```